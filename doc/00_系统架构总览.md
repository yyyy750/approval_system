# 审批系统 - 系统架构总览

## 1. 项目概述

本项目是一个基于现代 Web 技术栈构建的企业级审批系统，采用前后端分离架构，具备高性能、高可维护性和良好的用户体验。

## 2. 技术架构图

```
┌─────────────────────────────────────────────────────────────────┐
│                         客户端 (Browser)                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │                    前端应用 (SPA)                           │ │
│  │  ┌──────────────┐ ┌──────────────┐ ┌──────────────────────┐│ │
│  │  │ React 18     │ │ TypeScript   │ │ Tailwind CSS         ││ │
│  │  │ + Vite       │ │              │ │ + shadcn/ui          ││ │
│  │  └──────────────┘ └──────────────┘ └──────────────────────┘│ │
│  └────────────────────────────────────────────────────────────┘ │
│                              │                                   │
│                              │ HTTP/HTTPS (RESTful API)          │
│                              ▼                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │                    后端服务 (API)                           │ │
│  │  ┌──────────────────────────────────────────────────────┐  │ │
│  │  │              Spring Boot 3.x                         │  │ │
│  │  │  ┌────────────┐ ┌────────────┐ ┌────────────────────┐│  │ │
│  │  │  │ Controller │ │  Service   │ │    Repository      ││  │ │
│  │  │  │    层      │ │    层      │ │       层           ││  │ │
│  │  │  └────────────┘ └────────────┘ └────────────────────┘│  │ │
│  │  └──────────────────────────────────────────────────────┘  │ │
│  └────────────────────────────────────────────────────────────┘ │
│                              │                                   │
│                              ▼                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌─────────────────────────┐    ┌────────────────────────────┐  │
│  │     MySQL 8.0           │    │     本地文件存储            │  │
│  │   (业务数据存储)         │    │   (附件文件存储)            │  │
│  └─────────────────────────┘    └────────────────────────────┘  │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## 3. 技术栈总览

| 模块 | 技术选型 | 版本 | 说明 |
|------|---------|------|------|
| 前端框架 | React + Vite | React 19.2.0, Vite 7.2.4 | 现代、极速的 SPA 开发体验 |
| 开发语言 | TypeScript | 5.9.3 | 类型安全，适合复杂表单结构 |
| 样式方案 | Tailwind CSS | 4.1.18 | 原子化 CSS，高效开发 |
| 组件库 | shadcn/ui | 最新 | 高颜值、可复制的组件代码，基于 Radix UI |
| 后端框架 | Spring Boot | 3.5.9 | Java 后端标准，成熟稳定 |
| 数据库 | MySQL | 8.0 | 关系型数据库，存储业务数据和审批记录 |
| 文件存储 | 本地磁盘 | - | 文件直接存入服务器指定文件夹，通过静态资源映射访问 |

## 4. 系统模块划分

### 4.1 前端模块

```
frontend/
├── src/
│   ├── components/       # 公共组件
│   │   ├── ui/           # shadcn/ui 组件
│   │   └── business/     # 业务组件
│   ├── pages/            # 页面组件
│   │   ├── auth/         # 认证相关页面
│   │   ├── approval/     # 审批流程页面
│   │   ├── admin/        # 管理后台页面
│   │   └── dashboard/    # 仪表盘页面
│   ├── hooks/            # 自定义 Hooks
│   ├── services/         # API 服务层
│   ├── stores/           # 状态管理
│   ├── types/            # TypeScript 类型定义
│   ├── utils/            # 工具函数
│   └── styles/           # 全局样式
├── public/               # 静态资源
└── vite.config.ts        # Vite 配置
```

### 4.2 后端模块

```
backend/
├── src/main/java/com/approval/
│   ├── config/           # 配置类
│   ├── controller/       # 控制器层
│   ├── service/          # 业务逻辑层
│   ├── repository/       # 数据访问层
│   ├── entity/           # 实体类
│   ├── dto/              # 数据传输对象
│   ├── vo/               # 视图对象
│   ├── exception/        # 自定义异常
│   ├── util/             # 工具类
│   └── security/         # 安全相关
├── src/main/resources/
│   ├── application.yml   # 应用配置
│   ├── mapper/           # MyBatis 映射文件
│   └── static/           # 静态资源
└── pom.xml               # Maven 配置
```

## 5. 核心业务流程

### 5.1 审批流程

```
┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐
│ 发起申请  │───▶│ 待审批   │───▶│ 审批中   │───▶│ 审批完成  │
└──────────┘    └──────────┘    └──────────┘    └──────────┘
                     │                              │
                     │         ┌──────────┐        │
                     └────────▶│ 已拒绝   │◀───────┘
                               └──────────┘
                                    │
                                    ▼
                               ┌──────────┐
                               │ 已撤回   │
                               └──────────┘
```

### 5.2 用户角色

| 角色 | 权限说明 |
|------|---------|
| 普通用户 | 发起审批、查看自己的审批记录 |
| 审批人 | 审批待办事项、查看审批历史 |
| 管理员 | 系统配置、用户管理、审批流程配置 |
| 超级管理员 | 所有权限 |

## 6. 接口规范

### 6.1 RESTful API 设计原则

- 使用 HTTP 动词表示操作类型（GET、POST、PUT、DELETE）
- 使用名词表示资源
- 使用复数形式
- 版本控制：`/api/v1/`

### 6.2 统一响应格式

```json
{
  "code": 200,
  "message": "success",
  "data": {},
  "timestamp": 1705103372000
}
```

### 6.3 错误码规范

| 错误码 | 说明 |
|--------|------|
| 200 | 成功 |
| 400 | 请求参数错误 |
| 401 | 未授权 |
| 403 | 禁止访问 |
| 404 | 资源不存在 |
| 500 | 服务器内部错误 |

## 7. 安全策略

1. **身份认证**：使用 JWT Token 进行身份认证
2. **权限控制**：基于 RBAC 的权限管理
3. **数据加密**：敏感数据加密存储
4. **SQL 注入防护**：使用参数化查询
5. **XSS 防护**：输入输出过滤
6. **CSRF 防护**：Token 验证

## 8. 文档索引

| 文档名称 | 文件路径 | 说明 |
|---------|---------|------|
| 系统架构总览 | `doc/00_系统架构总览.md` | 本文档 |
| 前端技术实施文档 | `doc/01_前端技术实施文档.md` | React + Vite + TypeScript |
| 样式规范文档 | `doc/02_Tailwind_CSS样式规范.md` | Tailwind CSS 使用规范 |
| 组件使用文档 | `doc/03_shadcn_ui组件规范.md` | shadcn/ui 组件指南 |
| 后端技术实施文档 | `doc/04_后端技术实施文档.md` | Spring Boot 3.x |
| API 接口设计文档 | `doc/05_API接口设计规范.md` | RESTful API 规范 |
| 数据库设计文档 | `doc/06_数据库设计文档.md` | MySQL 8.0 |
| 文件存储文档 | `doc/07_文件存储实施文档.md` | 本地磁盘存储 |
| 部署指南 | `doc/08_部署指南.md` | 系统部署说明 |
| 审批模块设计文档 | `doc/09_审批模块页面与功能设计文档.md` | 审批模块页面与功能设计 |
| 日志模块设计文档 | `doc/11_日志模块设计文档.md` | 操作日志模块设计 |
| 前端接口设计文档 | `frontend/docs/interface_design.md` | 前端 API 调用规范 |
| 前端路由设计文档 | `frontend/docs/routing_design.md` | 前端页面路由设计 |

## 9. 版本记录

| 版本 | 日期 | 作者 | 说明 |
|------|------|------|------|
| 1.0.0 | 2026-01-13 | - | 初始版本 |
| 1.1.0 | 2026-01-13 | - | 新增通知模块、工作流模块接口；统一分页响应格式；添加前端文档索引 |
